<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/src/style.css" rel="stylesheet">
    <script src="/src/main.js" type="module"></script>
    <title>Camagru</title>
</head>
<body>
    <header>
        <!-- NAVBAR TEST -->
        <div class="navbar bg-base-100 shadow-sm">
            <div class="flex-1">
                <a class="btn btn-ghost text-xl" href="/gallery">Camagru</a>
            </div>
            <!-- Bouttons disponibles seulement quand pas Auth -->
            <div id="auth-buttons" class="flex justify-end">
                <button id="register-btn" type="button" class="btn btn-primary mr-2">Register</button>
                <button id="login-btn" type="button" class="btn btn-primary mr-2">Login</button>
            </div>
            <!-- Menu disponible quand Auth -->
            <a id="image-editor-btn" class="btn btn-primary mr-2 hidden" href="/image-editor">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                    <path class="fill-current" d="M213.1 128.8L202.7 160L128 160C92.7 160 64 188.7 64 224L64 480C64 515.3 92.7 544 128 544L512 544C547.3 544 576 515.3 576 480L576 224C576 188.7 547.3 160 512 160L437.3 160L426.9 128.8C420.4 109.2 402.1 96 381.4 96L258.6 96C237.9 96 219.6 109.2 213.1 128.8zM320 256C373 256 416 299 416 352C416 405 373 448 320 448C267 448 224 405 224 352C224 299 267 256 320 256z"/>
                </svg>
            </a>
            <div id="avatar-menu" class="flex-none hidden">
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
                        <div class="w-10 rounded-full">
                            <img
                                alt="Tailwind CSS Navbar component"
                                src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp" />
                        </div>
                    </div>
                    <ul
                        tabindex="0"
                        class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow">
                        <li><a href="/settings">Settings</a></li>
                    </ul>
                </div>
            </div>
            <div class="ml-2">
                <button id="logout-btn" class="btn btn-ghost btn-circle hidden">
                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H8m12 0-4 4m4-4-4-4M9 4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h2"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>
    <main id="app">
    </main>

    <!-- MODALS -->
    <dialog id="register-modal" class="modal">
        <div class="modal-box">
            <h2 class="text-center text-2xl">Register</h2>
            <button id="close-register-modal"class="btn btn-error absolute right-2 top-2" autofocus>X</button>
            <div id="register-error-message" class="my-4 text-center text-error"></div>
            <form id="register-form" name="register-form">
                <div class="m-4">
                    Username
                    <label class="input validator w-full mt-2">
                        <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <g
                                stroke-linejoin="round"
                                stroke-linecap="round"
                                stroke-width="2.5"
                                fill="none"
                                stroke="currentColor"
                                >
                                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </g>
                        </svg>
                        <input
                            type="text"
                            required
                            placeholder="Username"
                            pattern="^(?=.*[A-Za-z])(?:[A-Za-z0-9]|-)+$"
                            minlength="3"
                            maxlength="30"
                            title="Only letters, numbers or dash"
                            name="username"
                        />
                    </label>
                    <p class="validator-hint hidden">
                        Must be 3 to 30 characters<br />
                        containing only letters, numbers or dash
                    </p>
                </div>
                <div class="m-4">
                    Email
                    <label id="email-label" class="input validator w-full mt-2">
                        <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <g
                                stroke-linejoin="round"
                                stroke-linecap="round"
                                stroke-width="2.5"
                                fill="none"
                                stroke="currentColor"
                            >
                                <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                            </g>
                        </svg>
                        <input id="email" name="email" type="email" placeholder="Enter your email" required/>
                    </label>
                    <div id="email-errors" class="validator-hint hidden">Enter valid email address</div>
                </div>
                <div class="m-4">
                    Password
                    <label id="password-label" class="input validator w-full mt-2">
                        <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <g
                                stroke-linejoin="round"
                                stroke-linecap="round"
                                stroke-width="2.5"
                                fill="none"
                                stroke="currentColor"
                            >
                                <path
                                    d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
                                ></path>
                                <circle cx="16.5" cy="7.5" r=".5" fill="currentColor"></circle>
                            </g>
                        </svg>
                        <input id="password" name="password" type="password" placeholder="Password" required pattern="(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,128}" minlength="8"/>
                    </label>
                    <div id="password-errors" class="validator-hint hidden">
                        Must be between 8 and 128 characters, including<br />
                        At least one number <br />
                        At least one lowercase letter <br />
                        At least one uppercase letter <br />
                        At least one special character !@#$%^&*
                    </div>
                </div>
                <div class="m-4">
                    <label id="repeat-password-label" class="input w-full">
                        <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <g
                                stroke-linejoin="round"
                                stroke-linecap="round"
                                stroke-width="2.5"
                                fill="none"
                                stroke="currentColor"
                            >
                                <path
                                    d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
                                ></path>
                                <circle cx="16.5" cy="7.5" r=".5" fill="currentColor"></circle>
                            </g>
                        </svg>
                        <input
                            id ="repeat-password-input"
                            type="password"
                            required
                            placeholder="Repeat Password"
                        />
                    </label>
                </div>
                <div class="m-4">
                    <p class="text-center text-xs mb-5">By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a>.</p>
                    <button type="submit" class="btn btn-primary w-full">Register</button>
                </div>
            </form>
        </div>
    </dialog>
    <dialog id="login-modal" class="modal">
        <div class="modal-box">
            <h2 class="text-center text-2xl">Login</h2>
            <button id="close-login-modal"class="btn btn-error absolute right-2 top-2" autofocus>X</button>
            <div id="login-error-message" class="my-4 text-center text-error"></div>
            <form id="login-form" name="register-form">
                <div class="m-4">
                    Username
                    <label class="input w-full mt-2">
                        <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <g
                                stroke-linejoin="round"
                                stroke-linecap="round"
                                stroke-width="2.5"
                                fill="none"
                                stroke="currentColor"
                                >
                                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </g>
                        </svg>
                        <input
                            type="text"
                            required
                            placeholder="Username"
                            name="username"
                        />
                    </label>
                </div>
                <div class="m-4">
                    Password
                    <label id="password-label" class="input w-full mt-2">
                        <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <g
                                stroke-linejoin="round"
                                stroke-linecap="round"
                                stroke-width="2.5"
                                fill="none"
                                stroke="currentColor"
                            >
                                <path
                                    d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
                                ></path>
                                <circle cx="16.5" cy="7.5" r=".5" fill="currentColor"></circle>
                            </g>
                        </svg>
                        <input id="password" name="password" type="password" placeholder="Password" required/>
                    </label>
                </div>
                <div class="m-4">
                    <button type="submit" class="btn btn-primary w-full">Login</button>
                </div>
            </form>
            <div class="m-4 flex justify-end">
                <a id="forgot-password" class="text-xs" href="/forgot-password">Forgot your password ?</a>
            </div>
        </div>
    </dialog>
    <footer class="footer sm:footer-horizontal footer-center bg-base-300 text-base-content p-4  left-0 bottom-0">
        <aside>
            <p>Copyright Â© 2025 - All right reserved by Camagru Industries Ltd</p>
        </aside>
    </footer>
</body>
</html>
